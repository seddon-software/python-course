'''
When working with async routines, you may want to retrieve results generated by these routines.  This is
performed by asking the task for the result:
            task1.result()
            task2.result()
            task3.result()
'''

import asyncio
import random

N = 25

async def square():
    result = 0
    for n in range(1, N):
        await asyncio.sleep(random.random() * 0.1)
        print("S", end="")
        result += n**2
    return f"sum of squares = {result}"

async def cube():
    result = 0
    for n in range(1, N):
        await asyncio.sleep(random.random() * 0.1)
        print("C", end="")
        result += n**3
    return f"sum of cubes = {result}"

async def quad():
    result = 0
    for n in range(1, N):
        await asyncio.sleep(random.random() * 0.1)
        print("Q", end="")
        result += n**4
    return f"sum of quads = {result}"

async def main():
    task1 = asyncio.create_task(square())
    task2 = asyncio.create_task(cube())
    task3 = asyncio.create_task(quad())
    await asyncio.wait([task1, task2, task3])
    print()
    print(task1.result())
    print(task2.result())
    print(task3.result())

if __name__ == '__main__':
    asyncio.run(main())

